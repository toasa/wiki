https://www.kspub.co.jp/book/detail/5301951.html

---

# 第2章 Rustの基本

## 2.1 型システム

### ２の補数表現の利点

「２の補数表現を使うと、整数同士の足し算は、ビット表現の足し算を計算すれば良い（ただし、桁あふれは無視する）」は知らなかった。

例えば、3ビットで２の補数表現を使うと、`+2 + (-3)` は `0b010 + 0b101` で `0b111` と計算できる。また、`+2 + (-1)` は `0b010 + 0b111` で `0b001` と計算できる。

### ジェネリクス

ジェネリクスは２つに分かれる：

* ジェネリック型：定数や型を受け取り、型を返す
* ジェネリック関数：定数や型を受け取り、関数を返す

ターボフィッシュ `::<>` と `<>` の使い分け。
文法上、型のみ書ける場合は `<>` を使い、比較演算子も書ける場合はターボフィッシュを使う。例えば `let a:T = b` では、`T`には型のみ書けるが、 `b` は比較演算子 `<` も書ける。よって `b` にはターボフィッシュを使う必要がある。

# 第3章 所有権・ライフタイム・借用

## 3.3 ライフタイム

`&` 借用はコピーセマンティクス、`& mut` 借用はムーブセマンティクスとなる：

```rust
let a = 10;
let b = &a;
let c = b; // コピー発生、 以降 b 使える
```

```rust
let mut a = 10;
let b = &mut a;
let c = b; // ムーブ発生、 以降 b は使えない
```

このルールの例外の例は `&mut` 借用を関数引数にとる場合：

```rust
fn foo(x: &mut i32) {
    *x += 1;
}
```